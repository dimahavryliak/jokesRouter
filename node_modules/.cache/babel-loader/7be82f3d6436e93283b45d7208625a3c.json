{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useReducer, useCallback } from \"react\";\nfunction httpReducer(httpState, action) {\n  switch (action.type) {\n    case \"send_request\":\n      {\n        return {\n          data: null,\n          error: null,\n          status: \"pending\"\n        };\n      }\n    case \"success\":\n      {\n        return {\n          data: action.data,\n          error: null,\n          status: \"completed\"\n        };\n      }\n    case \"error\":\n      {\n        return {\n          data: null,\n          error: action.errorMessage,\n          status: \"completed\"\n        };\n      }\n    default:\n      {\n        throw Error(\"Unknown action: \" + action.type);\n      }\n  }\n}\nfunction useHttp(sendRequest) {\n  _s();\n  let isRequestSending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const initialHttpState = {\n    data: null,\n    error: null,\n    status: isRequestSending ? \"pending\" : null\n  };\n  const [httpState, dispatch] = useReducer(httpReducer, initialHttpState);\n  const sendHttpRequest = useCallback(async function (requestData) {\n    dispatch({\n      type: \"send_request\"\n    });\n    try {\n      const responseData = await sendRequest(requestData);\n      dispatch({\n        type: \"success\",\n        data: responseData\n      });\n    } catch (error) {\n      dispatch({\n        type: \"error\",\n        errorMessage: error.message || \"Something went wrong!\"\n      });\n    }\n  }, [sendRequest]);\n  return {\n    sendHttpRequest,\n    ...httpState\n  };\n}\n_s(useHttp, \"V8xjNsnOjNPjZF36UOOk1EgN2gk=\");\nexport default useHttp;","map":{"version":3,"names":["useReducer","useCallback","httpReducer","httpState","action","type","data","error","status","errorMessage","Error","useHttp","sendRequest","isRequestSending","initialHttpState","dispatch","sendHttpRequest","requestData","responseData","message"],"sources":["E:/JS projects/routerJokes/src/hooks/use-http.js"],"sourcesContent":["import { useReducer, useCallback } from \"react\";\n\nfunction httpReducer(httpState, action) {\n  switch (action.type) {\n    case \"send_request\": {\n      return {\n        data: null,\n        error: null,\n        status: \"pending\",\n      };\n    }\n    case \"success\": {\n      return {\n        data: action.data,\n        error: null,\n        status: \"completed\",\n      };\n    }\n    case \"error\": {\n      return {\n        data: null,\n        error: action.errorMessage,\n        status: \"completed\",\n      };\n    }\n    default: {\n      throw Error(\"Unknown action: \" + action.type);\n    }\n  }\n}\n\nfunction useHttp(sendRequest, isRequestSending = false) {\n  const initialHttpState = {\n    data: null,\n    error: null,\n    status: isRequestSending ? \"pending\" : null,\n  };\n  const [httpState, dispatch] = useReducer(httpReducer, initialHttpState);\n\n  const sendHttpRequest = useCallback(\n    async function (requestData) {\n      dispatch({ type: \"send_request\" });\n      try {\n        const responseData = await sendRequest(requestData);\n        dispatch({ type: \"success\", data: responseData });\n      } catch (error) {\n        dispatch({\n          type: \"error\",\n          errorMessage: error.message || \"Something went wrong!\",\n        });\n      }\n    },\n    [sendRequest]\n  );\n\n  return {\n    sendHttpRequest,\n    ...httpState,\n  };\n}\n\nexport default useHttp;\n"],"mappings":";AAAA,SAASA,UAAU,EAAEC,WAAW,QAAQ,OAAO;AAE/C,SAASC,WAAW,CAACC,SAAS,EAAEC,MAAM,EAAE;EACtC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,cAAc;MAAE;QACnB,OAAO;UACLC,IAAI,EAAE,IAAI;UACVC,KAAK,EAAE,IAAI;UACXC,MAAM,EAAE;QACV,CAAC;MACH;IACA,KAAK,SAAS;MAAE;QACd,OAAO;UACLF,IAAI,EAAEF,MAAM,CAACE,IAAI;UACjBC,KAAK,EAAE,IAAI;UACXC,MAAM,EAAE;QACV,CAAC;MACH;IACA,KAAK,OAAO;MAAE;QACZ,OAAO;UACLF,IAAI,EAAE,IAAI;UACVC,KAAK,EAAEH,MAAM,CAACK,YAAY;UAC1BD,MAAM,EAAE;QACV,CAAC;MACH;IACA;MAAS;QACP,MAAME,KAAK,CAAC,kBAAkB,GAAGN,MAAM,CAACC,IAAI,CAAC;MAC/C;EAAC;AAEL;AAEA,SAASM,OAAO,CAACC,WAAW,EAA4B;EAAA;EAAA,IAA1BC,gBAAgB,uEAAG,KAAK;EACpD,MAAMC,gBAAgB,GAAG;IACvBR,IAAI,EAAE,IAAI;IACVC,KAAK,EAAE,IAAI;IACXC,MAAM,EAAEK,gBAAgB,GAAG,SAAS,GAAG;EACzC,CAAC;EACD,MAAM,CAACV,SAAS,EAAEY,QAAQ,CAAC,GAAGf,UAAU,CAACE,WAAW,EAAEY,gBAAgB,CAAC;EAEvE,MAAME,eAAe,GAAGf,WAAW,CACjC,gBAAgBgB,WAAW,EAAE;IAC3BF,QAAQ,CAAC;MAAEV,IAAI,EAAE;IAAe,CAAC,CAAC;IAClC,IAAI;MACF,MAAMa,YAAY,GAAG,MAAMN,WAAW,CAACK,WAAW,CAAC;MACnDF,QAAQ,CAAC;QAAEV,IAAI,EAAE,SAAS;QAAEC,IAAI,EAAEY;MAAa,CAAC,CAAC;IACnD,CAAC,CAAC,OAAOX,KAAK,EAAE;MACdQ,QAAQ,CAAC;QACPV,IAAI,EAAE,OAAO;QACbI,YAAY,EAAEF,KAAK,CAACY,OAAO,IAAI;MACjC,CAAC,CAAC;IACJ;EACF,CAAC,EACD,CAACP,WAAW,CAAC,CACd;EAED,OAAO;IACLI,eAAe;IACf,GAAGb;EACL,CAAC;AACH;AAAC,GA5BQQ,OAAO;AA8BhB,eAAeA,OAAO"},"metadata":{},"sourceType":"module"}